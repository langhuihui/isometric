<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monibuca Admin è¶…çº§é¢æ¿ - ç­‰è·è§†å›¾</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
    }

    .header {
      color: #fff;
      text-align: center;
      margin-bottom: 20px;
    }

    .header h1 {
      font-size: 24px;
      margin-bottom: 8px;
    }

    .header .badge {
      display: inline-block;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      margin-right: 8px;
    }

    .header .tip {
      color: #888;
      font-size: 12px;
    }

    iso-scene {
      display: block;
      background: rgba(255,255,255,0.02);
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.1);
    }

    /* ========== æµ®åŠ¨æç¤ºæ ·å¼ ========== */
    .tooltip-trigger {
      position: relative;
      cursor: help;
    }

    .tooltip-trigger .tooltip {
      position: fixed;
      background: rgba(0, 0, 0, 0.95);
      color: #fff;
      padding: 10px 14px;
      border-radius: 8px;
      font-size: 12px;
      line-height: 1.6;
      max-width: 220px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;
      z-index: 999999;
      pointer-events: none;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tooltip-trigger .tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border: 8px solid transparent;
      border-top-color: rgba(0, 0, 0, 0.95);
    }

    .tooltip-trigger:hover .tooltip {
      opacity: 1;
      visibility: visible;
    }

    /* ========== è¯¦ç»†ä¿¡æ¯æµ®åŠ¨æ¡†æ ·å¼ - æ¯›ç»ç’ƒæ•ˆæœ ========== */
    .info-popup {
      position: fixed;
      background: linear-gradient(135deg, rgba(30, 30, 60, 0.75) 0%, rgba(20, 20, 50, 0.8) 100%);
      color: #fff;
      padding: 18px 22px;
      border-radius: 16px;
      font-size: 13px;
      line-height: 1.8;
      min-width: 280px;
      max-width: 340px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      z-index: 999999;
      pointer-events: none;
      box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.4),
        0 0 0 1px rgba(255, 255, 255, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        0 0 60px rgba(102, 126, 234, 0.15);
      backdrop-filter: blur(4px) saturate(180%);
      -webkit-backdrop-filter: blur(4px) saturate(180%);
      transform: translateY(10px) scale(0.98);
      border: 1px solid rgba(255, 255, 255, 0.18);
    }

    .info-popup::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: 16px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }

    .info-popup.visible {
      opacity: 1;
      visibility: visible;
      transform: translateY(0) scale(1);
    }

    .info-popup-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 14px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.12);
      position: relative;
    }

    .info-popup-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .info-popup-icon.cpu {
      background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
      box-shadow: 0 4px 15px rgba(0, 212, 255, 0.4);
    }

    .info-popup-icon.memory {
      background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
    }

    .info-popup-icon.network {
      background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
      box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4);
    }

    .info-popup-title {
      font-size: 16px;
      font-weight: 600;
      color: #fff;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
    }

    .info-popup-subtitle {
      font-size: 11px;
      color: rgba(255, 255, 255, 0.6);
      margin-top: 3px;
    }

    .info-popup-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 7px 0;
    }

    .info-popup-label {
      color: rgba(255, 255, 255, 0.7);
      font-size: 12px;
    }

    .info-popup-value {
      color: #fff;
      font-family: 'Monaco', 'Menlo', 'SF Mono', monospace;
      font-size: 12px;
      font-weight: 500;
    }

    .info-popup-value.highlight {
      color: #00d4ff;
      text-shadow: 0 0 10px rgba(0, 212, 255, 0.6), 0 0 20px rgba(0, 212, 255, 0.3);
    }

    .info-popup-value.success {
      color: #4CAF50;
      text-shadow: 0 0 10px rgba(76, 175, 80, 0.6), 0 0 20px rgba(76, 175, 80, 0.3);
    }

    .info-popup-value.warning {
      color: #FFB74D;
      text-shadow: 0 0 10px rgba(255, 183, 77, 0.6), 0 0 20px rgba(255, 183, 77, 0.3);
    }

    .info-popup-value.danger {
      color: #ff6b6b;
      text-shadow: 0 0 10px rgba(255, 107, 107, 0.6), 0 0 20px rgba(255, 107, 107, 0.3);
    }

    .info-popup-value.glow-cyan {
      color: #00d4ff;
      text-shadow: 0 0 8px rgba(0, 212, 255, 0.8), 0 0 16px rgba(0, 212, 255, 0.5), 0 0 24px rgba(0, 212, 255, 0.3);
    }

    .info-popup-value.glow-green {
      color: #4CAF50;
      text-shadow: 0 0 8px rgba(76, 175, 80, 0.8), 0 0 16px rgba(76, 175, 80, 0.5);
    }

    .info-popup-value.glow-blue {
      color: #2196F3;
      text-shadow: 0 0 8px rgba(33, 150, 243, 0.8), 0 0 16px rgba(33, 150, 243, 0.5);
    }

    .info-popup-progress {
      margin-top: 10px;
    }

    .info-popup-progress-bar {
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
      margin-top: 6px;
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
    }

    .info-popup-progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.4s ease;
      position: relative;
    }

    .info-popup-progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .info-popup-progress-fill.low {
      background: linear-gradient(90deg, #4CAF50 0%, #8BC34A 100%);
      box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
    }

    .info-popup-progress-fill.medium {
      background: linear-gradient(90deg, #FF9800 0%, #FFC107 100%);
      box-shadow: 0 0 10px rgba(255, 152, 0, 0.5);
    }

    .info-popup-progress-fill.high {
      background: linear-gradient(90deg, #f44336 0%, #FF5722 100%);
      box-shadow: 0 0 10px rgba(244, 67, 54, 0.5);
    }

    .info-popup-stats {
      display: flex;
      gap: 12px;
      margin-top: 14px;
      padding-top: 12px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .info-popup-stat {
      flex: 1;
      text-align: center;
      padding: 8px 4px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      border: 1px solid rgba(255, 255, 255, 0.08);
    }

    .info-popup-stat-value {
      font-size: 16px;
      font-weight: 700;
      color: #00d4ff;
      text-shadow: 0 0 12px rgba(0, 212, 255, 0.6);
    }

    .info-popup-stat-label {
      font-size: 10px;
      color: rgba(255, 255, 255, 0.5);
      margin-top: 4px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    /* ========== åŠé€æ˜å¤–å£³æ ·å¼ ========== */
    .glass-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%);
      border-radius: 12px;
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      pointer-events: none;
    }

    .glass-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0.05) 100%);
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      pointer-events: none;
    }

    .glass-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, rgba(200, 200, 200, 0.15) 0%, rgba(150, 150, 150, 0.1) 100%);
      backdrop-filter: blur(4px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      pointer-events: none;
    }

    /* ========== å†…éƒ¨æ¨¡å—æ ·å¼ ========== */
    .inner-module-top {
      width: 100%;
      height: 100%;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .inner-module-front {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 4px;
    }

    .inner-module-right {
      width: 100%;
      height: 100%;
    }

    .module-icon {
      font-size: 16px;
      margin-bottom: 2px;
    }

    .module-label {
      font-size: 8px;
      color: #333;
      text-align: center;
      font-weight: bold;
    }

    /* CPU æ¨¡å— */
    .cpu-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border-radius: 4px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 4px;
      border: 2px solid #00d4ff;
      box-shadow: inset 0 0 10px rgba(0, 212, 255, 0.3);
    }

    .cpu-info {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 2px;
    }

    .cpu-arch {
      font-size: 10px;
      color: #00d4ff;
      font-weight: bold;
      font-family: monospace;
    }

    .cpu-cores {
      font-size: 8px;
      color: #888;
    }

    .cpu-usage {
      font-size: 14px;
      color: #4CAF50;
      font-weight: bold;
    }

    .cpu-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #2d3748 0%, #1a202c 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .cpu-pins {
      display: flex;
      flex-wrap: wrap;
      gap: 2px;
      padding: 4px;
    }

    .cpu-pin {
      width: 3px;
      height: 6px;
      background: linear-gradient(180deg, #ffd700 0%, #b8860b 100%);
      border-radius: 1px;
    }

    .cpu-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #1a202c 0%, #0d1117 100%);
    }

    /* æ’ä»¶æ¨¡å— */
    .plugin-top {
      background: linear-gradient(135deg, #4CAF50 0%, #388E3C 100%);
    }

    .plugin-front {
      background: linear-gradient(180deg, #fff 0%, #f5f5f5 100%);
    }

    .plugin-right {
      background: linear-gradient(180deg, #e8e8e8 0%, #d8d8d8 100%);
    }

    /* æµæ¨¡å— */
    .stream-top {
      background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
    }

    .stream-front {
      background: linear-gradient(180deg, #fff 0%, #f5f5f5 100%);
    }

    .stream-right {
      background: linear-gradient(180deg, #e8e8e8 0%, #d8d8d8 100%);
    }

    /* å†…å­˜æ¨¡å— - çœŸå®å†…å­˜æ¡æ ·å¼ */
    .memory-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, #1a3009 0%, #2d5016 50%, #1a3009 100%);
      border-radius: 1px;
      display: flex;
      align-items: center;
      justify-content: space-evenly;
      padding: 0 4px;
      position: relative;
    }

    .memory-chip-top {
      width: 8px;
      height: 6px;
      background: #111;
      border: 1px solid #333;
    }

    .memory-label-top {
      position: absolute;
      right: 4px;
      font-size: 5px;
      color: #4CAF50;
      font-family: monospace;
    }

    .memory-notch-top {
      position: absolute;
      bottom: 0;
      front: 35%;
      width: 8px;
      height: 3px;
      background: #0a0a0a;
    }

    .memory-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #2d5016 0%, #1a3009 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      border-front: 2px solid #ffd700;
      border-right: 2px solid #ffd700;
    }

    .memory-chips {
      display: flex;
      gap: 4px;
      width: 100%;
      justify-content: center;
    }

    .memory-chip {
      width: 10px;
      height: 14px;
      background: linear-gradient(180deg, #1a1a2e 0%, #0d0d1a 100%);
      border: 1px solid #333;
    }

    .memory-info {
      position: absolute;
      bottom: 1px;
      font-size: 6px;
      color: #4CAF50;
      font-family: monospace;
      text-shadow: 0 0 4px #4CAF50;
    }

    .memory-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #1a3009 0%, #0d1a05 100%);
      display: flex;
      align-items: flex-end;
      justify-content: center;
      padding-bottom: 1px;
    }

    .memory-pins {
      display: flex;
      gap: 1px;
    }

    .memory-pin {
      width: 2px;
      height: 4px;
      background: linear-gradient(180deg, #ffd700 0%, #b8860b 100%);
    }

    /* ç½‘å¡æ¨¡å— */
    .nic-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #37474F 0%, #263238 100%);
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .nic-port {
      width: 10px;
      height: 8px;
      background: #111;
      border: 1px solid #555;
      border-radius: 1px;
      position: relative;
    }

    .nic-port::after {
      content: '';
      position: absolute;
      top: 1px;
      front: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 2px;
      background: #4CAF50;
      border-radius: 1px;
      box-shadow: 0 0 3px #4CAF50;
    }

    .nic-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #455A64 0%, #37474F 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 4px;
      gap: 2px;
    }

    .nic-speed {
      font-size: 7px;
      color: #00d4ff;
      font-family: monospace;
      display: flex;
      align-items: center;
      gap: 2px;
    }

    .nic-arrow-up {
      color: #4CAF50;
    }

    .nic-arrow-down {
      color: #2196F3;
    }

    .nic-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #37474F 0%, #263238 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 3px;
      padding: 4px;
    }

    .nic-led {
      width: 4px;
      height: 4px;
      border-radius: 50%;
    }

    .nic-led.green {
      background: #4CAF50;
      box-shadow: 0 0 4px #4CAF50;
      animation: blink 0.5s infinite;
    }

    .nic-led.orange {
      background: #FF9800;
      box-shadow: 0 0 4px #FF9800;
      animation: blink 0.3s infinite;
    }

    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    /* ä»»åŠ¡æ¨¡å— - æ§åˆ¶é¢æ¿æ ·å¼ */
    .task-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border-radius: 4px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: center;
      gap: 3px;
      padding: 4px;
      border: 1px solid #9C27B0;
    }

    .task-button {
      width: 12px;
      height: 12px;
      border-radius: 2px;
      background: linear-gradient(180deg, #333 0%, #222 100%);
      border: 1px solid #444;
    }

    .task-button.active {
      background: linear-gradient(180deg, #9C27B0 0%, #7B1FA2 100%);
      box-shadow: 0 0 4px #9C27B0;
    }

    .task-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #2d3748 0%, #1a202c 100%);
      display: flex;
      flex-direction: column;
      padding: 4px;
      gap: 3px;
    }

    .task-slider {
      width: 100%;
      height: 6px;
      background: #111;
      border-radius: 3px;
      position: relative;
      overflow: hidden;
    }

    .task-slider-fill {
      height: 100%;
      background: linear-gradient(90deg, #9C27B0 0%, #E91E63 100%);
      border-radius: 3px;
    }

    .task-knob-row {
      display: flex;
      justify-content: space-around;
      margin-top: 2px;
    }

    .task-knob {
      width: 10px;
      height: 10px;
      background: linear-gradient(135deg, #555 0%, #333 100%);
      border-radius: 50%;
      border: 1px solid #666;
      position: relative;
    }

    .task-knob::after {
      content: '';
      position: absolute;
      top: 2px;
      front: 50%;
      transform: translateX(-50%);
      width: 2px;
      height: 3px;
      background: #9C27B0;
    }

    .task-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #1a202c 0%, #0d1117 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 4px;
      padding: 4px;
    }

    .task-led-row {
      display: flex;
      gap: 3px;
    }

    .task-led {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: #333;
    }

    .task-led.on {
      background: #4CAF50;
      box-shadow: 0 0 4px #4CAF50;
    }

    .task-led.warn {
      background: #FF9800;
      box-shadow: 0 0 4px #FF9800;
    }

    /* æ—¥å¿—æ¨¡å— - æŠ½å±‰æ ·å¼ */
    .log-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #455A64 0%, #37474F 100%);
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .log-handle-top {
      width: 20px;
      height: 4px;
      background: #607D8B;
      border-radius: 2px;
    }

    .log-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #546E7A 0%, #455A64 100%);
      display: flex;
      flex-direction: column;
      padding: 3px;
      gap: 2px;
    }

    .log-drawer {
      flex: 1;
      background: linear-gradient(180deg, #37474F 0%, #263238 100%);
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #546E7A;
    }

    .log-drawer-handle {
      width: 12px;
      height: 3px;
      background: #78909C;
      border-radius: 1px;
    }

    .log-drawer-label {
      font-size: 5px;
      color: #90A4AE;
      margin-front: 2px;
    }

    .log-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #37474F 0%, #263238 100%);
      display: flex;
      flex-direction: column;
      padding: 3px;
      gap: 2px;
    }

    .log-drawer-side {
      flex: 1;
      background: #263238;
      border-radius: 1px;
    }

    /* æ’ä»¶æ¨¡å— - æ˜¾å¡æ ·å¼ */
    .plugin-card-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #4CAF50;
    }

    .plugin-chip {
      width: 60%;
      height: 50%;
      background: #111;
      border-radius: 2px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .plugin-chip-label {
      font-size: 5px;
      color: #4CAF50;
      font-family: monospace;
    }

    .plugin-card-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #2d3748 0%, #1a202c 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2px;
      gap: 2px;
    }

    .plugin-fan {
      width: 20px;
      height: 20px;
      background: radial-gradient(circle, #333 30%, #1a1a2e 70%);
      border-radius: 50%;
      border: 2px solid #444;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: spin 2s linear infinite;
    }

    .plugin-fan-blade {
      width: 14px;
      height: 14px;
      background: conic-gradient(from 0deg, #555 0deg, #333 45deg, #555 90deg, #333 135deg, #555 180deg, #333 225deg, #555 270deg, #333 315deg, #555 360deg);
      border-radius: 50%;
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .plugin-name {
      font-size: 6px;
      color: #4CAF50;
      font-family: monospace;
      text-transform: uppercase;
    }

    .plugin-card-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #1a202c 0%, #0d1117 100%);
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      padding: 2px;
    }

    .plugin-pcie {
      width: 100%;
      height: 6px;
      background: linear-gradient(180deg, #ffd700 0%, #b8860b 100%);
      border-radius: 1px;
      display: flex;
      gap: 1px;
      padding: 1px;
    }

    .plugin-pcie-pin {
      flex: 1;
      background: #8b6914;
    }

    /* ========== åŠŸèƒ½æ¨¡å—é¢æ¿æ ·å¼ ========== */
    .module-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .module-indicator {
      width: 8px;
      height: 8px;
      background: #4CAF50;
      border-radius: 50%;
      box-shadow: 0 0 8px #4CAF50;
    }

    .module-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #fff 0%, #f5f5f5 100%);
      padding: 8px;
      display: flex;
      flex-direction: column;
    }

    .module-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }

    .module-title {
      font-size: 10px;
      font-weight: bold;
      color: #333;
    }

    .module-action {
      font-size: 8px;
      color: #667eea;
    }

    .module-icon-large {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
    }

    .module-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #e8e8e8 0%, #d8d8d8 100%);
    }

    /* ========== æœåŠ¡å™¨è®¾å¤‡æ ·å¼ ========== */
    .server-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #e0e0e0 0%, #bdbdbd 100%);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }

    .server-led {
      width: 6px;
      height: 6px;
      background: #4CAF50;
      border-radius: 50%;
      box-shadow: 0 0 4px #4CAF50;
    }

    .server-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #f5f5f5 0%, #e0e0e0 100%);
      display: flex;
      flex-direction: column;
      padding: 6px;
    }

    .server-screen {
      flex: 1;
      background: #1a1a2e;
      border-radius: 3px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #00d4ff;
      font-size: 8px;
      font-family: monospace;
    }

    .server-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #d0d0d0 0%, #b0b0b0 100%);
      display: flex;
      flex-direction: column;
      padding: 4px;
      gap: 2px;
    }

    .server-vent {
      height: 3px;
      background: repeating-linear-gradient(
        90deg,
        #666 0px,
        #666 2px,
        transparent 2px,
        transparent 4px
      );
      border-radius: 1px;
    }

    /* ========== NVR è®¾å¤‡æ ·å¼ ========== */
    .nvr-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #37474F 0%, #263238 100%);
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nvr-label {
      color: #fff;
      font-size: 10px;
      font-weight: bold;
    }

    .nvr-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #455A64 0%, #37474F 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .nvr-lens {
      width: 24px;
      height: 24px;
      background: radial-gradient(circle, #00d4ff 0%, #0066aa 50%, #003366 100%);
      border-radius: 50%;
      border: 2px solid #1a1a2e;
    }

    .nvr-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #37474F 0%, #263238 100%);
    }

    /* ========== æ’­æ”¾å™¨æ ·å¼ ========== */
    .player-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #424242 0%, #212121 100%);
      border-radius: 4px;
    }

    .player-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #616161 0%, #424242 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 6px;
    }

    .player-screen {
      width: 100%;
      height: 100%;
      background: #1a1a2e;
      border-radius: 3px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .player-icon {
      width: 0;
      height: 0;
      border-front: 12px solid #00d4ff;
      border-top: 8px solid transparent;
      border-bottom: 8px solid transparent;
    }

    .player-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #424242 0%, #212121 100%);
    }

    /* ========== å­˜å‚¨è®¾å¤‡æ ·å¼ ========== */
    .storage-top {
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #78909C 0%, #546E7A 100%);
      border-radius: 4px;
    }

    .storage-front {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #90A4AE 0%, #78909C 100%);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .storage-disk {
      width: 32px;
      height: 32px;
      background: conic-gradient(from 0deg, #00d4ff 0%, #0099cc 25%, #00d4ff 50%, #0099cc 75%, #00d4ff 100%);
      border-radius: 50%;
      position: relative;
    }

    .storage-disk::after {
      content: '';
      position: absolute;
      top: 50%;
      front: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      background: #1a1a2e;
      border-radius: 50%;
    }

    .storage-right {
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, #78909C 0%, #546E7A 100%);
    }

    /* ========== å¹³å°åº•åº§æ ·å¼ ========== */
    .platform-top {
      width: 100%;
      height: 100%;
      background: #444;
    }

    .platform-front {
      width: 100%;
      height: 100%;
      background: #333;
    }

    .platform-right {
      width: 100%;
      height: 100%;
      background: #2a2a2a;
    }

    /* ========== æ ‡ç­¾æ ·å¼ ========== */
    .label-container {
      position: absolute;
      color: #666;
      font-size: 11px;
      font-weight: bold;
      white-space: nowrap;
      transform: rotate(-45deg);
      text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
    }

    /* ========== é…ç½®é¢æ¿æ ·å¼ ========== */
    .config-panel {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(30, 30, 50, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 16px;
      color: #fff;
      z-index: 10000;
      min-width: 220px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
    }

    .config-title {
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 12px;
      color: #667eea;
    }

    .config-row {
      margin-bottom: 12px;
    }

    .config-row label {
      display: block;
      font-size: 12px;
      margin-bottom: 4px;
      color: #ccc;
    }

    .config-row input[type="range"] {
      width: 100%;
      height: 6px;
      border-radius: 3px;
      background: #333;
      outline: none;
      -webkit-appearance: none;
    }

    .config-row input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #667eea;
      cursor: pointer;
    }

    .config-panel button {
      width: 100%;
      padding: 8px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      border-radius: 6px;
      color: #fff;
      font-size: 12px;
      cursor: pointer;
      margin-top: 8px;
    }

    .config-panel button:hover {
      opacity: 0.9;
    }

    .entity-info {
      margin-top: 8px;
    }

    .entity-prop {
      font-size: 11px;
      color: #aaa;
      margin-bottom: 4px;
      display: flex;
      justify-content: space-between;
    }

    .prop-label {
      color: #888;
    }

    .entity-prop span:last-child {
      color: #00d4ff;
      font-family: monospace;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Monibuca Admin è¶…çº§é¢æ¿</h1>
    <span class="badge">For m7s Pro V5</span>
    <span class="tip">+ æç¤º: æŒ‰ä½é¼ æ ‡æ‹–æ‹½å¯ç§»åŠ¨ç”»å¸ƒ</span>
  </div>

  <!-- è§’åº¦é…ç½®æ§åˆ¶é¢æ¿ -->
  <div class="config-panel">
    <div class="config-title">ç­‰è·è§’åº¦é…ç½®</div>
    <div class="config-row">
      <label>rotateX (ä¿¯è§†è§’): <span id="rotateX-value">60</span>Â°</label>
      <input type="range" id="rotateX-slider" min="30" max="80" value="60" step="1">
    </div>
    <div class="config-row">
      <label>rotateZ (æ—‹è½¬è§’): <span id="rotateZ-value">45</span>Â°</label>
      <input type="range" id="rotateZ-slider" min="20" max="70" value="45" step="1">
    </div>
    <div class="config-row">
      <label>é€è§†è·ç¦»: <span id="perspective-value">0</span>px <span style="color:#888;font-size:10px">(0=æ­£äº¤)</span></label>
      <input type="range" id="perspective-slider" min="0" max="5000" value="0" step="100">
    </div>
    <button id="reset-angles">é‡ç½®é»˜è®¤</button>
    <button id="toggle-shell" style="margin-top: 4px;">æ”¶èµ·ç½©å­</button>
    
    <!-- é€‰ä¸­å®ä½“å±æ€§æ˜¾ç¤º -->
    <div class="entity-info" id="entity-info" style="display: none;">
      <div class="config-title" style="margin-top: 16px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 12px;">é€‰ä¸­å®ä½“</div>
      <div class="entity-prop"><span class="prop-label">ID:</span> <span id="entity-id">-</span></div>
      <div class="entity-prop"><span class="prop-label">X:</span> <span id="entity-x">-</span></div>
      <div class="entity-prop"><span class="prop-label">Y:</span> <span id="entity-y">-</span></div>
      <div class="entity-prop"><span class="prop-label">Z:</span> <span id="entity-z">-</span></div>
      <div class="entity-prop"><span class="prop-label">å®½åº¦:</span> <span id="entity-width">-</span></div>
      <div class="entity-prop"><span class="prop-label">é«˜åº¦:</span> <span id="entity-height">-</span></div>
      <div class="entity-prop"><span class="prop-label">æ·±åº¦:</span> <span id="entity-depth">-</span></div>
      <div class="entity-prop"><span class="prop-label">z-index:</span> <span id="entity-zindex">-</span></div>
    </div>
  </div>

  <iso-scene center-origin width="1400" height="950">
    
    <!-- ========== ä¸»æœåŠ¡å™¨åŠé€æ˜å¤–å£³ ========== -->
    <!-- depth=140 ä½¿å¤–å£³çš„ z-index é«˜äºæ‰€æœ‰å†…éƒ¨æ¨¡å—ï¼Œç¡®ä¿åŠé€æ˜ç½©å­æ˜¾ç¤ºåœ¨æœ€å‰é¢ -->
    <iso-cube id="main-shell" entity-id="main-shell" x="0" y="0" z="0" 
                width="400" height="360" depth="140"
                top-color="rgba(102, 126, 234, 0.2)" 
                front-color="rgba(255, 255, 255, 0.1)" 
                right-color="rgba(200, 200, 200, 0.1)"
                no-pointer>
      <div slot="top" class="glass-top"></div>
      <div slot="front" class="glass-front"></div>
      <div slot="right" class="glass-right"></div>
    </iso-cube>

    <!-- ========== ä¸»æœåŠ¡å™¨å†…éƒ¨æ¨¡å— ========== -->
    
    <!-- CPU æ¨¡å— - ä¸­å¿ƒæ‰å¹³ -->
    <iso-cube entity-id="cpu-module" x="0" y="0" z="10" 
                width="80" height="80" depth="15"
                top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="cpu-top tooltip-trigger">
        <div class="cpu-info">
          <span class="cpu-arch">ARM64</span>
          <span class="cpu-cores">12 æ ¸å¿ƒ</span>
          <span class="cpu-usage">0%</span>
        </div>
        <div class="tooltip">CPU å¤„ç†å™¨<br>æœåŠ¡å™¨æ ¸å¿ƒè®¡ç®—å•å…ƒ</div>
      </div>
      <div slot="front" class="cpu-front">
        <div class="cpu-pins">
          <div class="cpu-pin"></div><div class="cpu-pin"></div><div class="cpu-pin"></div><div class="cpu-pin"></div>
          <div class="cpu-pin"></div><div class="cpu-pin"></div><div class="cpu-pin"></div><div class="cpu-pin"></div>
          <div class="cpu-pin"></div><div class="cpu-pin"></div><div class="cpu-pin"></div><div class="cpu-pin"></div>
        </div>
      </div>
      <div slot="right" class="cpu-right"></div>
    </iso-cube>

    <!-- å†…å­˜æ¨¡å— - æ¨ªå‘å†…å­˜æ¡ -->
    <iso-cube entity-id="memory-module" x="-60" y="-80" z="0" 
                width="80" height="12" depth="35"
                top-color="#1a1a2e" front-color="#2d5016" right-color="#1a3009">
      <div slot="top" class="memory-top tooltip-trigger">
        <div class="memory-chip-top"></div>
        <div class="memory-chip-top"></div>
        <div class="memory-chip-top"></div>
        <div class="memory-chip-top"></div>
        <div class="memory-chip-top"></div>
        <div class="memory-chip-top"></div>
        <span class="memory-label-top">DDR5</span>
        <div class="memory-notch-top"></div>
        <div class="tooltip">å†…å­˜ 32GB<br>å·²ç”¨: 24.6GB / å¯ç”¨: 7.4GB</div>
      </div>
      <div slot="front" class="memory-front">
        <div class="memory-chips">
          <div class="memory-chip"></div>
          <div class="memory-chip"></div>
          <div class="memory-chip"></div>
          <div class="memory-chip"></div>
        </div>
        <span class="memory-info">76.8%</span>
      </div>
      <div slot="right" class="memory-right">
        <div class="memory-pins">
          <div class="memory-pin"></div>
          <div class="memory-pin"></div>
          <div class="memory-pin"></div>
          <div class="memory-pin"></div>
          <div class="memory-pin"></div>
        </div>
      </div>
    </iso-cube>

    <!-- ç½‘å¡æ¨¡å— -->
    <iso-cube entity-id="nic-module" x="120" y="-100" z="0" 
                width="60" height="25" depth="45"
                top-color="#37474F" front-color="#455A64" right-color="#37474F">
      <div slot="top" class="nic-top">
        <div class="nic-port"></div>
        <div class="nic-port"></div>
      </div>
      <div slot="front" class="nic-front tooltip-trigger">
        <div class="nic-speed"><span class="nic-arrow-up">â†‘</span>3.6MB/s</div>
        <div class="nic-speed"><span class="nic-arrow-down">â†“</span>3.5MB/s</div>
        <div class="tooltip">ç½‘ç»œæ¥å£<br>å®æ—¶ç½‘ç»œä¼ è¾“é€Ÿç‡</div>
      </div>
      <div slot="right" class="nic-right">
        <div class="nic-led green"></div>
        <div class="nic-led orange"></div>
      </div>
    </iso-cube>

    <!-- æ’ä»¶æ¨¡å—1 - RTMP (æ²¿Xè½´æ’åˆ—: åªæ”¹å˜x, yå›ºå®šä¸º100) -->
    <iso-cube entity-id="plugin-module-1" x="-60" y="100" z="0"
                width="14" height="40" depth="50"
                top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="plugin-card-top">
        <div class="plugin-chip">
          <span class="plugin-chip-label">GPU</span>
        </div>
      </div>
      <div slot="front" class="plugin-card-front tooltip-trigger">
        <div class="plugin-fan">
          <div class="plugin-fan-blade"></div>
        </div>
        <span class="plugin-name">RTMP</span>
        <div class="tooltip">RTMP æ’ä»¶<br>æ”¯æŒ RTMP æ¨æ‹‰æµ</div>
      </div>
      <div slot="right" class="plugin-card-right">
        <div class="plugin-pcie">
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
        </div>
      </div>
    </iso-cube>

    <!-- æ’ä»¶æ¨¡å—2 - RTSP (x+20) -->
    <iso-cube entity-id="plugin-module-2" x="-40" y="100" z="0"
                width="14" height="40" depth="50"
                top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="plugin-card-top">
        <div class="plugin-chip">
          <span class="plugin-chip-label">GPU</span>
        </div>
      </div>
      <div slot="front" class="plugin-card-front tooltip-trigger">
        <div class="plugin-fan">
          <div class="plugin-fan-blade"></div>
        </div>
        <span class="plugin-name">RTSP</span>
        <div class="tooltip">RTSP æ’ä»¶<br>æ”¯æŒ RTSP æ¨æ‹‰æµ</div>
      </div>
      <div slot="right" class="plugin-card-right">
        <div class="plugin-pcie">
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
        </div>
      </div>
    </iso-cube>

    <!-- æ’ä»¶æ¨¡å—3 - HLS (x+20) -->
    <iso-cube entity-id="plugin-module-3" x="-20" y="100" z="0"
                width="14" height="40" depth="50"
                top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="plugin-card-top">
        <div class="plugin-chip">
          <span class="plugin-chip-label">GPU</span>
        </div>
      </div>
      <div slot="front" class="plugin-card-front tooltip-trigger">
        <div class="plugin-fan">
          <div class="plugin-fan-blade"></div>
        </div>
        <span class="plugin-name">HLS</span>
        <div class="tooltip">HLS æ’ä»¶<br>æ”¯æŒ HLS åˆ‡ç‰‡è¾“å‡º</div>
      </div>
      <div slot="right" class="plugin-card-right">
        <div class="plugin-pcie">
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
        </div>
      </div>
    </iso-cube>

    <!-- æ’ä»¶æ¨¡å—4 - WebRTC (x+20) -->
    <iso-cube entity-id="plugin-module-4" x="0" y="100" z="0"
                width="14" height="40" depth="50"
                top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="plugin-card-top">
        <div class="plugin-chip">
          <span class="plugin-chip-label">GPU</span>
        </div>
      </div>
      <div slot="front" class="plugin-card-front tooltip-trigger">
        <div class="plugin-fan">
          <div class="plugin-fan-blade"></div>
        </div>
        <span class="plugin-name">RTC</span>
        <div class="tooltip">WebRTC æ’ä»¶<br>æ”¯æŒ WebRTC ä½å»¶è¿Ÿæ’­æ”¾</div>
      </div>
      <div slot="right" class="plugin-card-right">
        <div class="plugin-pcie">
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
          <div class="plugin-pcie-pin"></div>
        </div>
      </div>
    </iso-cube>

    <!-- æµæ¨¡å— -->
    <iso-cube entity-id="stream-module" x="120" y="100" z="0" 
                width="50" height="50" depth="40"
                top-color="#2196F3" front-color="#fff" right-color="#e0e0e0">
      <div slot="top" class="inner-module-top stream-top"></div>
      <div slot="front" class="inner-module-front stream-front tooltip-trigger">
        <span class="module-icon">ğŸ“¡</span>
        <span class="module-label">æµ</span>
        <div class="tooltip">æµç®¡ç†<br>æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰æ´»è·ƒçš„åª’ä½“æµ</div>
      </div>
      <div slot="right" class="inner-module-right stream-right"></div>
    </iso-cube>

    <!-- ä»»åŠ¡æ¨¡å— - æ§åˆ¶é¢æ¿ -->
    <iso-cube entity-id="task-module" x="60" y="100" z="0" 
                width="60" height="50" depth="40"
                top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="task-top tooltip-trigger">
        <div class="task-button"></div>
        <div class="task-button active"></div>
        <div class="task-button"></div>
        <div class="task-button active"></div>
        <div class="task-button"></div>
        <div class="task-button"></div>
        <div class="tooltip">ä»»åŠ¡è°ƒåº¦<br>ç®¡ç†æ‹‰æµã€è½¬æ¨ç­‰åå°ä»»åŠ¡</div>
      </div>
      <div slot="front" class="task-front">
        <div class="task-slider">
          <div class="task-slider-fill" style="width: 60%;"></div>
        </div>
        <div class="task-slider">
          <div class="task-slider-fill" style="width: 30%;"></div>
        </div>
        <div class="task-knob-row">
          <div class="task-knob"></div>
          <div class="task-knob"></div>
          <div class="task-knob"></div>
        </div>
      </div>
      <div slot="right" class="task-right">
        <div class="task-led-row">
          <div class="task-led on"></div>
          <div class="task-led on"></div>
          <div class="task-led"></div>
        </div>
        <div class="task-led-row">
          <div class="task-led warn"></div>
          <div class="task-led on"></div>
          <div class="task-led"></div>
        </div>
      </div>
    </iso-cube>

    <!-- æ—¥å¿—æ¨¡å— - æŠ½å±‰ç»„ -->
    <iso-cube entity-id="log-module" x="0" y="-100" z="0" 
                width="60" height="50" depth="50"
                top-color="#455A64" front-color="#546E7A" right-color="#37474F">
      <div slot="top" class="log-top">
        <div class="log-handle-top"></div>
      </div>
      <div slot="front" class="log-front tooltip-trigger">
        <div class="log-drawer">
          <div class="log-drawer-handle"></div>
          <span class="log-drawer-label">INFO</span>
        </div>
        <div class="log-drawer">
          <div class="log-drawer-handle"></div>
          <span class="log-drawer-label">WARN</span>
        </div>
        <div class="log-drawer">
          <div class="log-drawer-handle"></div>
          <span class="log-drawer-label">ERR</span>
        </div>
        <div class="log-drawer">
          <div class="log-drawer-handle"></div>
          <span class="log-drawer-label">DBG</span>
        </div>
        <div class="tooltip">ç³»ç»Ÿæ—¥å¿—<br>å®æ—¶æŸ¥çœ‹æœåŠ¡å™¨è¿è¡Œæ—¥å¿—</div>
      </div>
      <div slot="right" class="log-right">
        <div class="log-drawer-side"></div>
        <div class="log-drawer-side"></div>
        <div class="log-drawer-side"></div>
        <div class="log-drawer-side"></div>
      </div>
    </iso-cube>

    <!-- ä¸»æœåŠ¡å™¨åº•åº§ - è–„åº•åº§ -->
    <iso-cube entity-id="main-platform" x="0" y="0" z="-20" 
                width="420" height="380" depth="20"
                top-color="#444" front-color="#333" right-color="#2a2a2a">
      <div slot="top" class="platform-top"></div>
      <div slot="front" class="platform-front"></div>
      <div slot="right" class="platform-right"></div>
    </iso-cube>

    <!-- ========== å·¦ä¸Š - è¿œç«¯æœåŠ¡å™¨ ========== -->
    <iso-cube entity-id="remote-server-1" x="-400" y="-250" z="0" 
                width="70" height="50" depth="90"
                top-color="#e0e0e0" front-color="#f5f5f5" right-color="#d0d0d0">
      <div slot="top" class="server-top">
        <div class="server-led"></div>
        <div class="server-led" style="background: #2196F3; box-shadow: 0 0 4px #2196F3;"></div>
      </div>
      <div slot="front" class="server-front tooltip-trigger">
        <div class="server-screen">RTSP://</div>
        <div class="tooltip">è¿œç«¯æœåŠ¡å™¨<br>æ‹‰æµä»£ç†ï¼šä¸»åŠ¨ä»è¿œç«¯æ‹‰å–æµ</div>
      </div>
      <div slot="right" class="server-right">
        <div class="server-vent"></div>
        <div class="server-vent"></div>
        <div class="server-vent"></div>
      </div>
    </iso-cube>

    <iso-cube entity-id="remote-server-2" x="-400" y="-160" z="0" 
                width="70" height="50" depth="90"
                top-color="#e0e0e0" front-color="#f5f5f5" right-color="#d0d0d0">
      <div slot="top" class="server-top">
        <div class="server-led"></div>
      </div>
      <div slot="front" class="server-front tooltip-trigger">
        <div class="server-screen">RTMP://</div>
        <div class="tooltip">è¿œç«¯æœåŠ¡å™¨<br>æ‹‰æµä»£ç†ï¼šä¸»åŠ¨ä»è¿œç«¯æ‹‰å–æµ</div>
      </div>
      <div slot="right" class="server-right">
        <div class="server-vent"></div>
        <div class="server-vent"></div>
        <div class="server-vent"></div>
      </div>
    </iso-cube>

    <!-- ========== å·¦ä¸­ - æ¨æµå™¨ (NVR/æ‘„åƒå¤´) ========== -->
    <iso-cube entity-id="nvr-device" x="-380" y="20" z="0" 
                width="60" height="60" depth="50"
                top-color="#37474F" front-color="#455A64" right-color="#37474F">
      <div slot="top" class="nvr-top">
        <span class="nvr-label">NVR</span>
      </div>
      <div slot="front" class="nvr-front tooltip-trigger">
        <div class="nvr-lens"></div>
        <div class="tooltip">NVR / æ‘„åƒå¤´<br>é€šè¿‡ RTSP/RTMP æ¨æµåˆ°æœåŠ¡å™¨</div>
      </div>
      <div slot="right" class="nvr-right"></div>
    </iso-cube>

    <!-- ========== å·¦ä¸‹ - æ’­æ”¾å™¨ç¾¤ç»„ ========== -->
    <iso-cube entity-id="player-1" x="-400" y="200" z="0" 
                width="55" height="55" depth="45"
                top-color="#424242" front-color="#616161" right-color="#424242">
      <div slot="top" class="player-top"></div>
      <div slot="front" class="player-front tooltip-trigger">
        <div class="player-screen">
          <div class="player-icon"></div>
        </div>
        <div class="tooltip">æ’­æ”¾å™¨<br>VLC/ffplay ç­‰å®¢æˆ·ç«¯æ’­æ”¾</div>
      </div>
      <div slot="right" class="player-right"></div>
    </iso-cube>

    <iso-cube entity-id="player-2" x="-400" y="280" z="0" 
                width="55" height="55" depth="45"
                top-color="#424242" front-color="#616161" right-color="#424242">
      <div slot="top" class="player-top"></div>
      <div slot="front" class="player-front tooltip-trigger">
        <div class="player-screen">
          <div class="player-icon"></div>
        </div>
        <div class="tooltip">Web æ’­æ”¾å™¨<br>Jessibuca/WebRTC æ’­æ”¾</div>
      </div>
      <div slot="right" class="player-right"></div>
    </iso-cube>

    <!-- ========== å³ä¸Š - ä¸Šçº§èŠ‚ç‚¹/CDN ========== -->
    <iso-cube entity-id="upstream-server" x="380" y="-250" z="0" 
                width="70" height="50" depth="90"
                top-color="#e0e0e0" front-color="#f5f5f5" right-color="#d0d0d0">
      <div slot="top" class="server-top">
        <div class="server-led" style="background: #9C27B0; box-shadow: 0 0 4px #9C27B0;"></div>
      </div>
      <div slot="front" class="server-front tooltip-trigger">
        <div class="server-screen">ä¸Šçº§èŠ‚ç‚¹</div>
        <div class="tooltip">ä¸Šçº§ M7S èŠ‚ç‚¹<br>çº§è”æ¶æ„ä¸­çš„çˆ¶èŠ‚ç‚¹</div>
      </div>
      <div slot="right" class="server-right">
        <div class="server-vent"></div>
        <div class="server-vent"></div>
        <div class="server-vent"></div>
      </div>
    </iso-cube>

    <iso-cube entity-id="cdn-server" x="380" y="-150" z="0" 
                width="70" height="50" depth="90"
                top-color="#e0e0e0" front-color="#f5f5f5" right-color="#d0d0d0">
      <div slot="top" class="server-top">
        <div class="server-led" style="background: #E91E63; box-shadow: 0 0 4px #E91E63;"></div>
      </div>
      <div slot="front" class="server-front tooltip-trigger">
        <div class="server-screen">CDN</div>
        <div class="tooltip">è¿œç«¯ CDN<br>è½¬æ¨åˆ°ç¬¬ä¸‰æ–¹ CDN æœåŠ¡</div>
      </div>
      <div slot="right" class="server-right">
        <div class="server-vent"></div>
        <div class="server-vent"></div>
        <div class="server-vent"></div>
      </div>
    </iso-cube>

    <!-- ========== å³ä¸­ - æ¨æµå™¨è®¾å¤‡ ========== -->
    <iso-cube entity-id="pusher-device" x="380" y="20" z="0" 
                width="60" height="60" depth="50"
                top-color="#37474F" front-color="#455A64" right-color="#37474F">
      <div slot="top" class="nvr-top">
        <span class="nvr-label">OBS</span>
      </div>
      <div slot="front" class="nvr-front tooltip-trigger">
        <div class="nvr-lens"></div>
        <div class="tooltip">æ¨æµå™¨<br>OBS/ffmpeg ç­‰å·¥å…·æ¨æµ</div>
      </div>
      <div slot="right" class="nvr-right"></div>
    </iso-cube>

    <!-- ========== å³ä¸‹ - å­˜å‚¨è®¾å¤‡ ========== -->
    <iso-cube entity-id="storage-1" x="380" y="180" z="0" 
                width="70" height="70" depth="20"
                top-color="#78909C" front-color="#90A4AE" right-color="#78909C">
      <div slot="top" class="storage-top"></div>
      <div slot="front" class="storage-front tooltip-trigger">
        <div class="storage-disk"></div>
        <div class="tooltip">å½•åƒå­˜å‚¨<br>HLS/FLV/MP4 å½•åƒæ–‡ä»¶</div>
      </div>
      <div slot="right" class="storage-right"></div>
    </iso-cube>

    <iso-cube entity-id="storage-2" x="380" y="180" z="22" 
                width="70" height="70" depth="20"
                top-color="#78909C" front-color="#90A4AE" right-color="#78909C">
      <div slot="top" class="storage-top"></div>
      <div slot="front" class="storage-front"></div>
      <div slot="right" class="storage-right"></div>
    </iso-cube>

    <iso-cube entity-id="storage-3" x="380" y="180" z="44" 
                width="70" height="70" depth="20"
                top-color="#78909C" front-color="#90A4AE" right-color="#78909C">
      <div slot="top" class="storage-top"></div>
      <div slot="front" class="storage-front"></div>
      <div slot="right" class="storage-right"></div>
    </iso-cube>

    <!-- ========== ä¸­ä¸‹ - ä¸‹çº§èŠ‚ç‚¹ ========== -->
    <iso-cube entity-id="downstream-1" x="-80" y="350" z="0" 
                width="60" height="45" depth="70"
                top-color="#e0e0e0" front-color="#f5f5f5" right-color="#d0d0d0">
      <div slot="top" class="server-top">
        <div class="server-led" style="background: #00BCD4; box-shadow: 0 0 4px #00BCD4;"></div>
      </div>
      <div slot="front" class="server-front tooltip-trigger">
        <div class="server-screen">ä¸‹çº§1</div>
        <div class="tooltip">ä¸‹çº§èŠ‚ç‚¹<br>ä»æœ¬èŠ‚ç‚¹æ‹‰æµçš„å­æœåŠ¡å™¨</div>
      </div>
      <div slot="right" class="server-right">
        <div class="server-vent"></div>
        <div class="server-vent"></div>
      </div>
    </iso-cube>

    <iso-cube entity-id="downstream-2" x="80" y="350" z="0" 
                width="60" height="45" depth="70"
                top-color="#e0e0e0" front-color="#f5f5f5" right-color="#d0d0d0">
      <div slot="top" class="server-top">
        <div class="server-led" style="background: #00BCD4; box-shadow: 0 0 4px #00BCD4;"></div>
      </div>
      <div slot="front" class="server-front tooltip-trigger">
        <div class="server-screen">ä¸‹çº§2</div>
        <div class="tooltip">ä¸‹çº§èŠ‚ç‚¹<br>ä»æœ¬èŠ‚ç‚¹æ‹‰æµçš„å­æœåŠ¡å™¨</div>
      </div>
      <div slot="right" class="server-right">
        <div class="server-vent"></div>
        <div class="server-vent"></div>
      </div>
    </iso-cube>

    <!-- ========== æ“ä½œå°æ¼”ç¤º ========== -->
    <iso-console entity-id="control-console" x="-100" y="-350" z="0"
                 width="120" height="80" depth="60"
                 tilt="25"
                 facing="front"
                 top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="tooltip-trigger" style="width:100%;height:100%;background:linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;border:1px solid #00d4ff;">
        <span style="font-size:10px;color:#00d4ff;font-weight:bold;">æ§åˆ¶å°</span>
        <span style="font-size:8px;color:#888;margin-top:2px;">FRONT</span>
        <div class="tooltip">æ“ä½œæ§åˆ¶å°<br>facing="front" å‘å‰å€¾æ–œ</div>
      </div>
    </iso-console>

    <iso-console entity-id="control-console-right" x="100" y="-350" z="0"
                 width="120" height="80" depth="60"
                 tilt="25"
                 facing="right"
                 top-color="#1a1a2e" front-color="#2d3748" right-color="#1a202c">
      <div slot="top" class="tooltip-trigger" style="width:100%;height:100%;background:linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);border-radius:4px;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:8px;border:1px solid #9C27B0;">
        <span style="font-size:10px;color:#9C27B0;font-weight:bold;">æ§åˆ¶å°</span>
        <span style="font-size:8px;color:#888;margin-top:2px;">RIGHT</span>
        <div class="tooltip">æ“ä½œæ§åˆ¶å°<br>facing="right" å‘å³å€¾æ–œ</div>
      </div>
    </iso-console>

    <!-- ========== è¿æ¥çº¿ ========== -->
    
    <!-- è¿œç«¯æœåŠ¡å™¨1 åˆ° ä¸»æœåŠ¡å™¨ (æ‹‰æµ) -->
    <iso-connector 
      slot="connectors"
      from="remote-server-1@bottom:mr" to="main-shell@bottom:tl" 
      color="#667eea" width="2" 
      route="x-y" 
      animation="flow 0.5">
    </iso-connector>

    <!-- è¿œç«¯æœåŠ¡å™¨2 åˆ° ä¸»æœåŠ¡å™¨ (æ‹‰æµ) -->
    <iso-connector 
      slot="connectors"
      from="remote-server-2@bottom:mr" to="main-shell@bottom:ml" 
      color="#667eea" width="2" 
      route="x-y" 
      animation="flow 0.6">
    </iso-connector>

    <!-- NVR åˆ° ä¸»æœåŠ¡å™¨ (æ¨æµ) -->
    <iso-connector 
      slot="connectors"
      from="nvr-device@bottom:mr" to="main-shell@bottom:ml" 
      color="#00d4ff" width="2" 
      route="direct" 
      animation="flow 0.8">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° æ’­æ”¾å™¨1 -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:bl" to="player-1@bottom:mr" 
      color="#2196F3" width="2" 
      route="x-y" 
      animation="flow 0.7">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° æ’­æ”¾å™¨2 -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:bl" to="player-2@bottom:tr" 
      color="#2196F3" width="2" 
      route="x-y" 
      animation="flow 0.6">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° ä¸Šçº§èŠ‚ç‚¹ -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:tr" to="upstream-server@bottom:ml" 
      color="#9C27B0" width="2" 
      route="x-y" 
      animation="flow 0.5">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° CDN -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:mr" to="cdn-server@bottom:ml" 
      color="#E91E63" width="2" 
      route="x-y" 
      animation="flow 0.7">
    </iso-connector>

    <!-- æ¨æµå™¨ åˆ° ä¸»æœåŠ¡å™¨ -->
    <iso-connector 
      slot="connectors"
      from="pusher-device@bottom:ml" to="main-shell@bottom:mr" 
      color="#00d4ff" width="2" 
      route="direct" 
      animation="flow 0.8">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° å­˜å‚¨ -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:br" to="storage-1@bottom:ml" 
      color="#FF9800" width="2" 
      route="x-y" 
      animation="flow 0.6">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° ä¸‹çº§èŠ‚ç‚¹1 -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:bc" to="downstream-1@bottom:tc" 
      color="#00BCD4" width="2" 
      route="y-x" 
      animation="flow 0.5">
    </iso-connector>

    <!-- ä¸»æœåŠ¡å™¨ åˆ° ä¸‹çº§èŠ‚ç‚¹2 -->
    <iso-connector 
      slot="connectors"
      from="main-shell@bottom:bc" to="downstream-2@bottom:tc" 
      color="#00BCD4" width="2" 
      route="y-x" 
      animation="flow 0.5">
    </iso-connector>

  </iso-scene>

  <!-- è¯¦ç»†ä¿¡æ¯æµ®åŠ¨æ¡† -->
  <div class="info-popup" id="info-popup"></div>

  <script type="module">
    import './src/components/IsoScene.ts'
    import './src/components/IsoCube.ts'
    import './src/components/IsoConsole.ts'
    import './src/components/IsoConnector.ts'

    // æ¨¡æ‹ŸåŠ¨æ€æ•°æ® - åç»­å¯ä»¥æ›¿æ¢ä¸ºçœŸå® API
    const mockData = {
      serverInfo: {
        name: 'Monibuca',
        version: 'v5.0.0',
        ip: '10.43.36.49',
        uptime: '35åˆ†é’Ÿå‰',
        goVersion: 'go1.24.10',
        os: 'darwin',
        cpu: '12æ ¸ arm64'
      },
      storage: {
        diskUsage: 86.6,
        diskTotal: '926GB',
        diskFree: '124GB',
        memoryUsage: 76.8,
        memoryTotal: '32.0GB',
        memoryFree: '7.4GB'
      },
      network: {
        cpuUsage: 0,
        upload: '3.6MB/s',
        download: '3.5MB/s'
      },
      modules: {
        plugins: ['rtmp', 'rtsp', 'hls', 'webrtc', 'record'],
        streams: 5,
        tasks: 3
      },
      upstream: [
        { id: 0, ip: '0.0.0.0' }
      ],
      downstream: [
        { id: 1, ip: '192.168.1.101' },
        { id: 2, ip: '192.168.1.102' }
      ],
      remoteServers: [
        { type: 'rtsp', url: 'rtsp://camera1.local/stream' },
        { type: 'rtmp', url: 'rtmp://source.local/live' }
      ]
    }

    // æ›´æ–°æ•°æ®çš„å‡½æ•°ï¼ˆç¤ºä¾‹ï¼‰
    function updateData(newData) {
      Object.assign(mockData, newData)
      console.log('Data updated:', mockData)
    }

    // æš´éœ²åˆ°å…¨å±€ï¼Œæ–¹ä¾¿è°ƒè¯•
    window.monibucaData = mockData
    window.updateMonibucaData = updateData

    // Tooltip å®šä½é€»è¾‘ - ç­‰å¾…è‡ªå®šä¹‰å…ƒç´ åŠ è½½å®Œæˆ
    customElements.whenDefined('iso-cube').then(() => {
      setTimeout(() => {
        document.querySelectorAll('.tooltip-trigger').forEach(trigger => {
          const tooltip = trigger.querySelector('.tooltip')
          if (!tooltip) return

          trigger.addEventListener('mouseenter', () => {
            const rect = trigger.getBoundingClientRect()
            tooltip.style.front = `${rect.front + rect.width / 2}px`
            tooltip.style.top = `${rect.top - 10}px`
            tooltip.style.transform = 'translateX(-50%) translateY(-100%)'
          })
        })
      }, 100)
    })

    // è§’åº¦é…ç½®æ§åˆ¶
    const rotateXSlider = document.getElementById('rotateX-slider')
    const rotateZSlider = document.getElementById('rotateZ-slider')
    const perspectiveSlider = document.getElementById('perspective-slider')
    const rotateXValue = document.getElementById('rotateX-value')
    const rotateZValue = document.getElementById('rotateZ-value')
    const perspectiveValue = document.getElementById('perspective-value')
    const resetBtn = document.getElementById('reset-angles')

    function updateAngles() {
      const rotateX = parseInt(rotateXSlider.value)
      const rotateZ = parseInt(rotateZSlider.value)
      const perspective = parseInt(perspectiveSlider.value)
      rotateXValue.textContent = rotateX
      rotateZValue.textContent = rotateZ
      perspectiveValue.textContent = perspective
      
      // åŠ¨æ€æ›´æ–° CSS å˜é‡æˆ–é‡æ–°æ¸²æŸ“åœºæ™¯
      const scene = document.querySelector('iso-scene')
      if (scene && scene.updateAngles) {
        scene.updateAngles(rotateX, rotateZ)
      }
      
      // é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶é€šçŸ¥æ‰€æœ‰ç»„ä»¶æ›´æ–°
      window.dispatchEvent(new CustomEvent('iso-angles-changed', {
        detail: { rotateX, rotateZ, perspective }
      }))
    }

    rotateXSlider.addEventListener('input', updateAngles)
    rotateZSlider.addEventListener('input', updateAngles)
    perspectiveSlider.addEventListener('input', updateAngles)
    
    resetBtn.addEventListener('click', () => {
      rotateXSlider.value = 60
      rotateZSlider.value = 45
      perspectiveSlider.value = 0
      updateAngles()
    })

    // å®ä½“ç‚¹å‡»æ˜¾ç¤ºå±æ€§
    const entityInfo = document.getElementById('entity-info')
    const entityIdEl = document.getElementById('entity-id')
    const entityXEl = document.getElementById('entity-x')
    const entityYEl = document.getElementById('entity-y')
    const entityZEl = document.getElementById('entity-z')
    const entityWidthEl = document.getElementById('entity-width')
    const entityHeightEl = document.getElementById('entity-height')
    const entityDepthEl = document.getElementById('entity-depth')
    const entityZIndexEl = document.getElementById('entity-zindex')

    function showEntityInfo(entity) {
      entityInfo.style.display = 'block'
      entityIdEl.textContent = entity.getAttribute('entity-id') || entity.id || '-'
      entityXEl.textContent = entity.x
      entityYEl.textContent = entity.y
      entityZEl.textContent = entity.z
      entityWidthEl.textContent = entity.width
      entityHeightEl.textContent = entity.height
      entityDepthEl.textContent = entity.depth
      entityZIndexEl.textContent = getComputedStyle(entity).zIndex
    }

    // ç­‰å¾…ç»„ä»¶åŠ è½½å®Œæˆåç»‘å®šç‚¹å‡»äº‹ä»¶
    customElements.whenDefined('iso-cube').then(() => {
      setTimeout(() => {
        document.querySelectorAll('iso-cube').forEach(entity => {
          entity.addEventListener('click', (e) => {
            e.stopPropagation()
            showEntityInfo(entity)
          })
        })
      }, 100)
    })

    // ç‚¹å‡»ç©ºç™½å¤„éšè—å±æ€§é¢æ¿
    document.querySelector('iso-scene').addEventListener('click', (e) => {
      if (e.target.tagName === 'ISO-SCENE') {
        entityInfo.style.display = 'none'
      }
    })

    // ========== ç½©å­æ”¶èµ·/å±•å¼€åŠ¨ç”» ==========
    const toggleShellBtn = document.getElementById('toggle-shell')
    const mainShell = document.getElementById('main-shell')
    let shellCollapsed = false
    const originalDepth = 140
    const originalZ = 0
    const collapsedDepth = 10
    const collapsedZ = -30
    let animationFrame = null

    function animateShell(targetDepth, targetZ, callback) {
      const shell = mainShell
      if (!shell) return
      
      let currentDepth = parseFloat(shell.getAttribute('depth')) || originalDepth
      let currentZ = parseFloat(shell.getAttribute('z')) || originalZ
      
      const duration = 500 // ms
      const startTime = performance.now()
      const startDepth = currentDepth
      const startZ = currentZ
      
      function step(timestamp) {
        const elapsed = timestamp - startTime
        const progress = Math.min(elapsed / duration, 1)
        // easeOutCubic
        const eased = 1 - Math.pow(1 - progress, 3)
        
        const newDepth = startDepth + (targetDepth - startDepth) * eased
        const newZ = startZ + (targetZ - startZ) * eased
        
        shell.setAttribute('depth', newDepth.toString())
        shell.setAttribute('z', newZ.toString())
        
        if (progress < 1) {
          animationFrame = requestAnimationFrame(step)
        } else {
          if (callback) callback()
        }
      }
      
      if (animationFrame) cancelAnimationFrame(animationFrame)
      animationFrame = requestAnimationFrame(step)
    }

    toggleShellBtn.addEventListener('click', () => {
      if (shellCollapsed) {
        animateShell(originalDepth, originalZ, () => {
          toggleShellBtn.textContent = 'æ”¶èµ·ç½©å­'
        })
      } else {
        animateShell(collapsedDepth, collapsedZ, () => {
          toggleShellBtn.textContent = 'å±•å¼€ç½©å­'
        })
      }
      shellCollapsed = !shellCollapsed
    })

    // ========== è¯¦ç»†ä¿¡æ¯æµ®åŠ¨æ¡†é€»è¾‘ ==========
    const infoPopup = document.getElementById('info-popup')
    let currentHoveredModule = null

    // è·å–è¿›åº¦æ¡æ ·å¼ç±»
    function getProgressClass(value) {
      if (value < 50) return 'low'
      if (value < 80) return 'medium'
      return 'high'
    }

    // è·å–å€¼æ ·å¼ç±»
    function getValueClass(value) {
      if (value < 50) return 'success'
      if (value < 80) return 'warning'
      return 'danger'
    }

    // ç”Ÿæˆ CPU ä¿¡æ¯å†…å®¹
    function getCpuPopupContent() {
      const cpuUsage = mockData.network.cpuUsage
      return `
        <div class="info-popup-header">
          <div class="info-popup-icon cpu">ğŸ”²</div>
          <div>
            <div class="info-popup-title">CPU å¤„ç†å™¨</div>
            <div class="info-popup-subtitle">æœåŠ¡å™¨æ ¸å¿ƒè®¡ç®—å•å…ƒ</div>
          </div>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">æ¶æ„</span>
          <span class="info-popup-value glow-cyan">ARM64</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">æ ¸å¿ƒæ•°</span>
          <span class="info-popup-value glow-cyan">12 æ ¸å¿ƒ</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">Go ç‰ˆæœ¬</span>
          <span class="info-popup-value">${mockData.serverInfo.goVersion}</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">æ“ä½œç³»ç»Ÿ</span>
          <span class="info-popup-value">${mockData.serverInfo.os}</span>
        </div>
        <div class="info-popup-progress">
          <div class="info-popup-row">
            <span class="info-popup-label">CPU ä½¿ç”¨ç‡</span>
            <span class="info-popup-value ${getValueClass(cpuUsage)}">${cpuUsage}%</span>
          </div>
          <div class="info-popup-progress-bar">
            <div class="info-popup-progress-fill ${getProgressClass(cpuUsage)}" style="width: ${Math.max(cpuUsage, 5)}%"></div>
          </div>
        </div>
        <div class="info-popup-stats">
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">${mockData.serverInfo.uptime}</div>
            <div class="info-popup-stat-label">è¿è¡Œæ—¶é—´</div>
          </div>
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">${mockData.serverInfo.version}</div>
            <div class="info-popup-stat-label">ç‰ˆæœ¬</div>
          </div>
        </div>
      `
    }

    // ç”Ÿæˆå†…å­˜ä¿¡æ¯å†…å®¹
    function getMemoryPopupContent() {
      const memUsage = mockData.storage.memoryUsage
      const memUsed = (parseFloat(mockData.storage.memoryTotal) * memUsage / 100).toFixed(1)
      return `
        <div class="info-popup-header">
          <div class="info-popup-icon memory">ğŸ’¾</div>
          <div>
            <div class="info-popup-title">å†…å­˜ DDR5</div>
            <div class="info-popup-subtitle">é«˜é€Ÿéšæœºå­˜å–å­˜å‚¨å™¨</div>
          </div>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">æ€»å®¹é‡</span>
          <span class="info-popup-value glow-cyan">${mockData.storage.memoryTotal}</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">å·²ä½¿ç”¨</span>
          <span class="info-popup-value ${getValueClass(memUsage)}">${memUsed}GB</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">å¯ç”¨</span>
          <span class="info-popup-value glow-green">${mockData.storage.memoryFree}</span>
        </div>
        <div class="info-popup-progress">
          <div class="info-popup-row">
            <span class="info-popup-label">ä½¿ç”¨ç‡</span>
            <span class="info-popup-value ${getValueClass(memUsage)}">${memUsage}%</span>
          </div>
          <div class="info-popup-progress-bar">
            <div class="info-popup-progress-fill ${getProgressClass(memUsage)}" style="width: ${memUsage}%"></div>
          </div>
        </div>
        <div class="info-popup-stats">
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">4</div>
            <div class="info-popup-stat-label">å†…å­˜èŠ¯ç‰‡</div>
          </div>
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">5600</div>
            <div class="info-popup-stat-label">é¢‘ç‡ MHz</div>
          </div>
        </div>
      `
    }

    // ç”Ÿæˆç½‘å¡ä¿¡æ¯å†…å®¹
    function getNicPopupContent() {
      return `
        <div class="info-popup-header">
          <div class="info-popup-icon network">ğŸŒ</div>
          <div>
            <div class="info-popup-title">ç½‘ç»œæ¥å£</div>
            <div class="info-popup-subtitle">å®æ—¶ç½‘ç»œä¼ è¾“ç›‘æ§</div>
          </div>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">IP åœ°å€</span>
          <span class="info-popup-value glow-cyan">${mockData.serverInfo.ip}</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">ä¸Šè¡Œé€Ÿç‡</span>
          <span class="info-popup-value glow-green">â†‘ ${mockData.network.upload}</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">ä¸‹è¡Œé€Ÿç‡</span>
          <span class="info-popup-value glow-blue">â†“ ${mockData.network.download}</span>
        </div>
        <div class="info-popup-row">
          <span class="info-popup-label">ç«¯å£çŠ¶æ€</span>
          <span class="info-popup-value glow-green">â— å·²è¿æ¥</span>
        </div>
        <div class="info-popup-stats">
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">${mockData.modules.streams}</div>
            <div class="info-popup-stat-label">æ´»è·ƒæµ</div>
          </div>
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">2</div>
            <div class="info-popup-stat-label">ç«¯å£æ•°</div>
          </div>
          <div class="info-popup-stat">
            <div class="info-popup-stat-value">1Gbps</div>
            <div class="info-popup-stat-label">å¸¦å®½</div>
          </div>
        </div>
      `
    }

    // æ˜¾ç¤ºæµ®åŠ¨æ¡†
    function showInfoPopup(moduleId, event) {
      let content = ''
      switch (moduleId) {
        case 'cpu-module':
          content = getCpuPopupContent()
          break
        case 'memory-module':
          content = getMemoryPopupContent()
          break
        case 'nic-module':
          content = getNicPopupContent()
          break
        default:
          return
      }

      infoPopup.innerHTML = content
      
      // å®šä½æµ®åŠ¨æ¡†
      const rect = event.target.closest('iso-cube').getBoundingClientRect()
      const popupWidth = 280
      const popupHeight = 300
      
      let front = rect.front + rect.width / 2 - popupWidth / 2
      let top = rect.top - popupHeight - 15
      
      // è¾¹ç•Œæ£€æµ‹
      if (front < 10) front = 10
      if (front + popupWidth > window.innerWidth - 10) front = window.innerWidth - popupWidth - 10
      if (top < 10) {
        top = rect.bottom + 15
      }
      
      infoPopup.style.front = `${front}px`
      infoPopup.style.top = `${top}px`
      infoPopup.classList.add('visible')
      currentHoveredModule = moduleId
    }

    // éšè—æµ®åŠ¨æ¡†
    function hideInfoPopup() {
      infoPopup.classList.remove('visible')
      currentHoveredModule = null
    }

    // ç­‰å¾…ç»„ä»¶åŠ è½½å®Œæˆåç»‘å®š hover äº‹ä»¶
    customElements.whenDefined('iso-cube').then(() => {
      setTimeout(() => {
        const moduleIds = ['cpu-module', 'memory-module', 'nic-module']
        
        moduleIds.forEach(moduleId => {
          const entity = document.querySelector(`iso-cube[entity-id="${moduleId}"]`)
          if (entity) {
            entity.addEventListener('mouseenter', (e) => {
              showInfoPopup(moduleId, e)
            })
            entity.addEventListener('mouseleave', () => {
              hideInfoPopup()
            })
            // é¼ æ ‡ç§»åŠ¨æ—¶æ›´æ–°ä½ç½®
            entity.addEventListener('mousemove', (e) => {
              if (currentHoveredModule === moduleId) {
                const rect = entity.getBoundingClientRect()
                const popupWidth = 280
                const popupHeight = infoPopup.offsetHeight || 300
                
                let front = rect.front + rect.width / 2 - popupWidth / 2
                let top = rect.top - popupHeight - 15
                
                if (front < 10) front = 10
                if (front + popupWidth > window.innerWidth - 10) front = window.innerWidth - popupWidth - 10
                if (top < 10) {
                  top = rect.bottom + 15
                }
                
                infoPopup.style.front = `${front}px`
                infoPopup.style.top = `${top}px`
              }
            })
          }
        })
      }, 200)
    })
  </script>
</body>
</html>
