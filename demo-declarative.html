<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Isometric Engine - Declarative Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      color: #fff;
    }

    .header {
      padding: 20px;
      text-align: center;
      background: rgba(0, 0, 0, 0.3);
    }

    .header h1 {
      font-size: 24px;
      margin-bottom: 8px;
    }

    .header p {
      color: #888;
      font-size: 14px;
    }

    .demo-container {
      display: flex;
      gap: 20px;
      padding: 20px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .scene-wrapper {
      flex: 1;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      overflow: hidden;
    }

    .scene-header {
      padding: 12px 16px;
      background: rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 14px;
      font-weight: 500;
    }

    iso-scene {
      display: block;
      width: 100%;
      height: 500px;
    }

    .code-panel {
      width: 400px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      overflow: hidden;
    }

    .code-header {
      padding: 12px 16px;
      background: rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      font-size: 14px;
      font-weight: 500;
    }

    .code-content {
      padding: 16px;
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 12px;
      line-height: 1.6;
      color: #a8d8a8;
      background: rgba(0, 0, 0, 0.2);
      height: calc(500px - 45px);
      overflow: auto;
    }

    .code-content .tag {
      color: #ff79c6;
    }

    .code-content .attr {
      color: #50fa7b;
    }

    .code-content .value {
      color: #f1fa8c;
    }

    .code-content .comment {
      color: #6272a4;
    }

    /* å®ä½“å†…éƒ¨æ ·å¼ */
    .face-content {
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 10px;
      padding: 4px;
      text-align: center;
    }

    .face-content .icon {
      font-size: 20px;
      margin-bottom: 4px;
    }

    .face-content .title {
      font-weight: bold;
      margin-bottom: 2px;
    }

    .face-content .status {
      font-size: 9px;
    }

    .face-content .status.online {
      color: #0f0;
    }

    .face-content .status.active {
      color: #0ff;
    }

    .progress-bar {
      background: #333;
      width: 80%;
      height: 6px;
      margin: 4px 0;
      border-radius: 3px;
      overflow: hidden;
    }

    .progress-bar .fill {
      height: 100%;
      border-radius: 3px;
    }

    .progress-bar .fill.green {
      background: #4CAF50;
    }

    .progress-bar .fill.orange {
      background: #FF9800;
    }

    .progress-bar .fill.blue {
      background: #2196F3;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1>Isometric Engine - Declarative API</h1>
    <p>ä½¿ç”¨ç±»ä¼¼ Vue æ’æ§½çš„å£°æ˜å¼æ–¹å¼åˆ›å»ºç­‰è·åœºæ™¯</p>
  </div>

  <div class="demo-container">
    <div class="scene-wrapper">
      <div class="scene-header">å£°æ˜å¼åœºæ™¯ (Declarative Scene)</div>
      
      <!-- å£°æ˜å¼åœºæ™¯ -->
      <iso-scene center-origin width="800" height="500">
        
        <!-- å¹³å° -->
        <iso-entity entity-id="platform" x="0" y="0" z="0" 
                    width="200" height="200" depth="20"
                    top-color="#3a5a7a" left-color="#2a4a6a" right-color="#1a3a5a">
          <div slot="top" class="face-content">
            <span class="icon">ğŸ—ï¸</span>
            <span class="title">Platform</span>
          </div>
        </iso-entity>

        <!-- æœåŠ¡å™¨ -->
        <iso-entity entity-id="server" x="-50" y="-50" z="20" 
                    width="60" height="60" depth="80"
                    top-color="#6C9BCF" left-color="#4A7AB0" right-color="#3A6691">
          <div slot="top" class="face-content">
            <span class="icon">ğŸ–¥ï¸</span>
          </div>
          <div slot="left" class="face-content">
            <span class="title">Server A</span>
            <span class="status online">â— Online</span>
          </div>
          <div slot="right" class="face-content">
            <span>CPU: 45%</span>
            <div class="progress-bar">
              <div class="fill green" style="width: 45%"></div>
            </div>
            <span>RAM: 72%</span>
            <div class="progress-bar">
              <div class="fill orange" style="width: 72%"></div>
            </div>
          </div>
        </iso-entity>

        <!-- æ•°æ®åº“ -->
        <iso-entity entity-id="database" x="50" y="-50" z="20" 
                    width="50" height="50" depth="60"
                    top-color="#9B6CCF" left-color="#7A4AB0" right-color="#5A3A91">
          <div slot="top" class="face-content">
            <span class="icon">ğŸ—„ï¸</span>
          </div>
          <div slot="left" class="face-content">
            <span class="title">Database</span>
            <span class="status active">â— Active</span>
          </div>
          <div slot="right" class="face-content">
            <span>Storage</span>
            <div class="progress-bar">
              <div class="fill blue" style="width: 58%"></div>
            </div>
            <span>58% used</span>
          </div>
        </iso-entity>

        <!-- API ç½‘å…³ -->
        <iso-entity entity-id="api-gateway" x="0" y="50" z="20" 
                    width="70" height="70" depth="100"
                    top-color="#CF9B6C" left-color="#B07A4A" right-color="#915A3A">
          <div slot="top" class="face-content">
            <span class="icon">ğŸŒ</span>
          </div>
          <div slot="left" class="face-content">
            <span class="title">API Gateway</span>
            <span class="status online">â— Running</span>
            <span style="margin-top:4px;color:#aaa;">v2.1.0</span>
          </div>
          <div slot="right" class="face-content">
            <span>Requests/s</span>
            <span style="font-size:14px;font-weight:bold;color:#4CAF50;">1,247</span>
            <span>Latency</span>
            <span style="font-size:11px;color:#2196F3;">23ms</span>
          </div>
        </iso-entity>

        <!-- è¿çº¿: æ²¿ç­‰è·åæ ‡è½´èµ°çº¿ï¼Œæ”¯æŒåœ†è§’å’ŒåŠ¨æ•ˆ -->
        <!-- æµåŠ¨åŠ¨æ•ˆè¿çº¿: ä» server çš„å³é¢ä¸­å¿ƒ åˆ° database çš„å·¦é¢ä¸­å¿ƒ -->
        <iso-connector 
          slot="connectors"
          from="server" to="database" 
          from-face="right" to-face="left"
          from-position="mc" to-position="mc"
          color="#00ffff" width="2" 
          route="x-y" 
          corner-radius="10"
          animation="flow" 
          animate-speed="1.5">
        </iso-connector>
        
        <!-- å‘å…‰åŠ¨æ•ˆè¿çº¿: ä» database çš„å‰é¢åº•éƒ¨ä¸­å¿ƒ åˆ° api-gateway çš„åé¢é¡¶éƒ¨ä¸­å¿ƒ -->
        <iso-connector 
          slot="connectors"
          from="database" to="api-gateway" 
          from-face="front" to-face="back"
          from-position="bc" to-position="tc"
          color="#ff00ff" width="2" 
          route="y-x" 
          corner-radius="8"
          animation="glow"
          arrow>
        </iso-connector>
        
        <!-- è„‰å†²åŠ¨æ•ˆè¿çº¿: ä» server çš„é¡¶é¢å³ä¸‹è§’ åˆ° api-gateway çš„é¡¶é¢å·¦ä¸Šè§’ -->
        <iso-connector 
          slot="connectors"
          from="server" to="api-gateway" 
          from-face="top" to-face="top"
          from-position="br" to-position="tl"
          color="#ffff00" width="2" 
          route="x-y"
          corner-radius="12"
          animation="pulse"
          line-style="dashed">
        </iso-connector>

      </iso-scene>
    </div>

    <div class="code-panel">
      <div class="code-header">HTML ä»£ç ç¤ºä¾‹</div>
      <div class="code-content">
<pre><span class="comment">&lt;!-- å£°æ˜å¼åœºæ™¯ --&gt;</span>
<span class="tag">&lt;iso-scene</span> <span class="attr">center-origin</span><span class="tag">&gt;</span>

  <span class="comment">&lt;!-- æœåŠ¡å™¨å®ä½“ --&gt;</span>
  <span class="tag">&lt;iso-entity</span>
    <span class="attr">entity-id</span>=<span class="value">"server"</span>
    <span class="attr">x</span>=<span class="value">"-50"</span> <span class="attr">y</span>=<span class="value">"-50"</span> <span class="attr">z</span>=<span class="value">"20"</span>
    <span class="attr">width</span>=<span class="value">"60"</span> <span class="attr">height</span>=<span class="value">"60"</span> <span class="attr">depth</span>=<span class="value">"80"</span><span class="tag">&gt;</span>
    
    <span class="comment">&lt;!-- é¡¶é¢æ’æ§½ --&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">slot</span>=<span class="value">"top"</span><span class="tag">&gt;</span>ğŸ–¥ï¸<span class="tag">&lt;/div&gt;</span>
    
    <span class="comment">&lt;!-- å·¦é¢æ’æ§½ --&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">slot</span>=<span class="value">"left"</span><span class="tag">&gt;</span>
      Server A
      <span class="tag">&lt;span&gt;</span>â— Online<span class="tag">&lt;/span&gt;</span>
    <span class="tag">&lt;/div&gt;</span>
    
    <span class="comment">&lt;!-- å³é¢æ’æ§½ --&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">slot</span>=<span class="value">"right"</span><span class="tag">&gt;</span>
      CPU: 45%
      RAM: 72%
    <span class="tag">&lt;/div&gt;</span>
    
  <span class="tag">&lt;/iso-entity&gt;</span>

  <span class="comment">&lt;!-- æ•°æ®åº“å®ä½“ --&gt;</span>
  <span class="tag">&lt;iso-entity</span>
    <span class="attr">entity-id</span>=<span class="value">"database"</span>
    <span class="attr">x</span>=<span class="value">"50"</span> <span class="attr">y</span>=<span class="value">"-50"</span> <span class="attr">z</span>=<span class="value">"20"</span>
    <span class="attr">width</span>=<span class="value">"50"</span> <span class="attr">height</span>=<span class="value">"50"</span> <span class="attr">depth</span>=<span class="value">"60"</span><span class="tag">&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">slot</span>=<span class="value">"top"</span><span class="tag">&gt;</span>ğŸ—„ï¸<span class="tag">&lt;/div&gt;</span>
    <span class="tag">&lt;div</span> <span class="attr">slot</span>=<span class="value">"left"</span><span class="tag">&gt;</span>Database<span class="tag">&lt;/div&gt;</span>
  <span class="tag">&lt;/iso-entity&gt;</span>

  <span class="comment">&lt;!-- è¿çº¿ --&gt;</span>
  <span class="tag">&lt;iso-connector</span>
    <span class="attr">from</span>=<span class="value">"server"</span>
    <span class="attr">to</span>=<span class="value">"database"</span>
    <span class="attr">color</span>=<span class="value">"#00ffff"</span>
    <span class="attr">line-style</span>=<span class="value">"dashed"</span><span class="tag">&gt;</span>
  <span class="tag">&lt;/iso-connector&gt;</span>

  <span class="tag">&lt;iso-connector</span>
    <span class="attr">from</span>=<span class="value">"database"</span>
    <span class="attr">to</span>=<span class="value">"api-gateway"</span>
    <span class="attr">color</span>=<span class="value">"#ff00ff"</span>
    <span class="attr">arrow</span><span class="tag">&gt;</span>
  <span class="tag">&lt;/iso-connector&gt;</span>

<span class="tag">&lt;/iso-scene&gt;</span></pre>
      </div>
    </div>
  </div>

  <script type="module">
    // åªéœ€å¯¼å…¥ç»„ä»¶ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨æ³¨å†Œ
    import './src/components/IsoScene.ts'
    import './src/components/IsoEntity.ts'
    import './src/components/IsoConnector.ts'
  </script>
</body>
</html>
